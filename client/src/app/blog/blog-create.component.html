<h1>Create a Blog Entry</h1>

<form novalidate [formGroup]="blogCreateForm" (submit)="createBlogEntry()">
  <div
    class="form-group"
    [class.has-error]="blogCreateForm.controls['title'].invalid
      && blogCreateForm.controls['title'].touched">
    <label for="title">Title</label>
    <input
      class="form-control"
      id="title"
      name="title"
      type="text"
      [formControl]="blogCreateForm.controls['title']"/>
    <span
      class="help-block"
      *ngIf="blogCreateForm.controls['title'].hasError('required')
        && blogCreateForm.controls['title'].touched">
      Title is required
    </span>
  </div>
  <div
    class="form-group"
    [class.has-error]="blogCreateForm.controls['content'].invalid
      && blogCreateForm.controls['content'].touched">
    <label for="content">Content</label>
    <textarea
      class="form-control"
      id="content"
      name="content"
      rows="30"
      type="text"
      [formControl]="blogCreateForm.controls['content']">
    </textarea>
    <span
      class="help-block" 
      *ngIf="blogCreateForm.controls['content'].hasError('required')
        && blogCreateForm.controls['content'].touched">
      Content is required
    </span>
  </div>
  <div class="alert alert-danger" *ngIf="blogService.error">
    {{blogService.error}}
  </div>
  <div class="pull-right">
    <button
       class="btn btn-primary"
       type="submit"
       [disabled]="blogCreateForm.invalid">
      Submit
    </button>
    <button
      class="btn btn-default"
      type="button"
      (click)="location.back()">
      Cancel</button>
  </div>
</form>
